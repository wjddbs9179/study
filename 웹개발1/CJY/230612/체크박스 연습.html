<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>체크박스 연습</title>
</head>
<body>
<input type="text" id="todo" placeholder="할일을 추가하세요.">
<button onclick="add_todo()">추가</button>
<br>
<input type="text" id="color" placeholder="색상값을 입력하세요.">
<button onclick="change_color()">설정</button>
<hr>
<div id="todoContainer"></div>
</body>
</html>

<script>
    let todoCount = 0;
    let todoContainer = document.getElementById('todoContainer');

    function add_todo() {
        let todoText = document.getElementById('todo').value;
        if(todoText==='')
            return;
        const div = document.createElement('div');
        const label = document.createElement('label');
        const input = document.createElement('input');
        // input의 type을 체크박스로 설정
        input.setAttribute('type','checkbox');
        // input의 id를 설정한다 - label하고 연결 지을것임.
        input.setAttribute('id','text');
        // label의 for를 연결 할 input의 id와 같게 설정한다
        label.setAttribute('for','text');
        label.textContent = (++todoCount)+'. '+todoText;


        div.appendChild(label);
        div.appendChild(input);
        todoContainer.appendChild(div);
        document.getElementById('todo').value = '';

        // innerHTML 사용시
        // let todoText = document.getElementById('todo').value;
        // todoContainer.innerHTML += '<div><label for="' + todoCount + '">' + (++todoCount) + '. ' + todoText + '</label><input type="checkbox" id="' + todoCount + '"></div>';
    }

    function change_color() {
        let colorValue = document.getElementById('color').value;
        let labels = [...todoContainer.querySelectorAll('div > label')];
        let checkBoxes = [...todoContainer.querySelectorAll('div > input')];
        for (let i = 0; i < checkBoxes.length; i++) {
            if (checkBoxes[i].checked) {
                labels[i].style.color = colorValue;
            }
        }
    }
</script>